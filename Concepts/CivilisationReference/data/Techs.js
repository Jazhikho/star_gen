/** Tech tree data. col = sub-column within level (1 = before col 2 within same level). */
const TECHS = [
  { id: "fire",       name: "Fire Control",         level: 1,  col: 1, row: 1,  req: [],                         desc: "Sustained fire for warmth, cooking, and predator deterrence." },
  { id: "flint",      name: "Flint Knapping",       level: 1,  col: 1, row: 3,  req: [],                         desc: "Shaping flint into blades, scrapers, and projectile points." },
  { id: "foraging",   name: "Systematic Foraging",  level: 1,  col: 1, row: 5,  req: [],                         desc: "Organised gathering of plants, tubers, and seasonal fruit." },
  { id: "speech",     name: "Language",             level: 1,  col: 1, row: 7,  req: [],                         desc: "Complex spoken language enabling coordination and memory." },
  { id: "shelter",    name: "Shelter Building",     level: 1,  col: 1, row: 9,  req: [],                         desc: "Temporary shelters from hides, branches, and earth." },
  { id: "migration",  name: "Migration & Pathfinding", level: 1, col: 1, row: 11, req: [],                       desc: "Seasonal movement strategies and landscape reading." },

  { id: "hunting",    name: "Hunting & Trapping",    level: 2,  col: 1, row: 1,  req: ["fire", "flint"],            desc: "Coordinated pursuit of large game; pit traps and snares." },
  { id: "cooking",    name: "Cooking",              level: 2,  col: 1, row: 3,  req: ["fire", "foraging"],         desc: "Heat processing food to improve nutrition and reduce pathogens." },
  { id: "pottery",    name: "Pottery",              level: 2,  col: 1, row: 5,  req: ["foraging"],                 desc: "Fired clay vessels for storage, cooking, and fermentation." },
  { id: "ritual",     name: "Ritual & Religion",    level: 2,  col: 1, row: 7,  req: ["speech"],                   desc: "Organised belief, burial rites, and cosmological myth." },
  { id: "tracking",   name: "Tracking",             level: 2,  col: 1, row: 9,  req: ["speech", "foraging"],       desc: "Reading spoor and signs for hunting and migration." },
  { id: "rope",       name: "Cordage & Rope",       level: 2,  col: 1, row: 11, req: ["flint", "shelter"],        desc: "Twisted plant-fibre rope for tools, nets, and structures." },
  { id: "fishhook",   name: "Fishing & Nets",       level: 2,  col: 2, row: 2,  req: ["hunting", "rope"],          desc: "Hook-and-line and woven nets for aquatic food sources." },
  { id: "pigment",    name: "Pigment & Cave Art",   level: 2,  col: 2, row: 8,  req: ["ritual"],                   desc: "Ochre and charcoal used in symbolic and ritual art." },

  { id: "farming",    name: "Crop Cultivation",      level: 3,  col: 1, row: 2,  req: ["cooking", "pottery"],       desc: "Deliberate planting and harvesting of cereal grains." },
  { id: "domestication", name: "Animal Domestication", level: 3, col: 1, row: 4, req: ["hunting", "tracking"],     desc: "Taming and selective breeding of animals for labour and food." },
  { id: "weaving",    name: "Weaving & Textiles",   level: 3,  col: 1, row: 6,  req: ["rope", "ritual"],            desc: "Looms and weaving for cloth, baskets, and matting." },
  { id: "village",    name: "Permanent Settlement", level: 3,  col: 1, row: 8,  req: ["farming", "shelter"],       desc: "Year-round villages sustained by stored food surplus." },
  { id: "boats",      name: "Watercraft",           level: 3,  col: 1, row: 10, req: ["rope", "fishhook"],        desc: "Dugout canoes and reed rafts for fishing and river travel." },
  { id: "storage",    name: "Food Storage",         level: 3,  col: 2, row: 3,  req: ["farming", "pottery"],       desc: "Granaries, drying, and fermentation to carry surplus across seasons." },
  { id: "chiefcraft", name: "Gift Exchange & Prestige", level: 3, col: 2, row: 7, req: ["ritual", "village"],       desc: "Redistribution ceremonies building social hierarchy." },

  { id: "irrigation", name: "Irrigation",           level: 4,  col: 1, row: 1,  req: ["farming"],                  desc: "Canals and channels directing water to fields." },
  { id: "plough",     name: "Ard & Plough",         level: 4,  col: 1, row: 3,  req: ["farming", "domestication"],  desc: "Animal-drawn soil-breaking tools expanding arable land." },
  { id: "trade",      name: "Long-Distance Trade",  level: 4,  col: 1, row: 5,  req: ["boats", "village"],        desc: "Exchange networks carrying obsidian, shell, and pigment." },
  { id: "writing",    name: "Proto-Writing",        level: 4,  col: 1, row: 7,  req: ["ritual", "trade"],          desc: "Token and pictographic systems for record-keeping." },
  { id: "copper",     name: "Copper Working",       level: 4,  col: 1, row: 9,  req: ["pottery"],                  desc: "Cold-hammering and smelting of native copper." },
  { id: "math1",      name: "Basic Mathematics",    level: 4,  col: 2, row: 6,  req: ["writing", "trade"],        desc: "Counting, measurement, and basic arithmetic." },
  { id: "admin1",     name: "Early Administration", level: 4,  col: 2, row: 8,  req: ["writing", "chiefcraft"],   desc: "Record-keeping of tribute, rations, and labour allocation." },
  { id: "textile2",   name: "Advanced Textiles",    level: 4,  col: 2, row: 11, req: ["weaving", "trade"],         desc: "Dyeing, spinning, and loom weights producing traded cloth." },

  { id: "bronze",     name: "Bronze Metallurgy",    level: 5,  col: 1, row: 1,  req: ["copper", "trade"],          desc: "Tin-copper alloy producing durable tools and weapons." },
  { id: "wheel",      name: "Wheel & Axle",         level: 5,  col: 1, row: 3,  req: ["plough", "copper"],         desc: "Rotating wheel for carts, pottery wheels, and winches." },
  { id: "writing2",   name: "Phonetic Writing",      level: 5,  col: 1, row: 5,  req: ["writing", "math1"],         desc: "Alphabetic or syllabic scripts encoding spoken language." },
  { id: "calendar",   name: "Calendar",             level: 5,  col: 1, row: 7,  req: ["math1", "ritual"],          desc: "Systematic seasonal and celestial cycle tracking." },
  { id: "sailing",    name: "Sailing",             level: 5,  col: 1, row: 9,  req: ["boats", "trade"],           desc: "Rigged sails enabling coastal and sea travel." },
  { id: "masonry",    name: "Masonry",             level: 5,  col: 1, row: 11, req: ["irrigation", "village"],     desc: "Dressed stone construction for monumental architecture." },
  { id: "draft",      name: "Draft Animals & Harness", level: 5, col: 2, row: 4, req: ["wheel", "domestication"], desc: "Yokes and harnesses enabling animal-powered transport." },
  { id: "bronze2",    name: "Bronze Weapons & Armour", level: 5, col: 2, row: 2, req: ["bronze"],                 desc: "Swords, spears, helmets, and shields from cast bronze." },

  { id: "iron",       name: "Iron Smelting",        level: 6,  col: 1, row: 1,  req: ["bronze"],                   desc: "High-temperature reduction of iron ore into wrought iron." },
  { id: "roads",      name: "Road Networks",        level: 6,  col: 1, row: 3,  req: ["wheel", "masonry"],        desc: "Engineered roads enabling reliable logistics and troop movement." },
  { id: "coinage",    name: "Coinage",             level: 6,  col: 1, row: 5,  req: ["bronze", "writing2"],       desc: "Standardised metal currency facilitating anonymous commerce." },
  { id: "law",        name: "Codified Law",         level: 6,  col: 1, row: 7,  req: ["writing2", "calendar"],     desc: "Written legal codes governing commerce, crime, and property." },
  { id: "astronomy",  name: "Astronomy",           level: 6,  col: 1, row: 9,  req: ["calendar", "sailing"],      desc: "Systematic stellar observation for navigation and timekeeping." },
  { id: "aqueduct",   name: "Aqueducts & Sanitation", level: 6, col: 1, row: 11, req: ["masonry", "irrigation"],  desc: "Gravity-fed stone water transport and urban drainage." },
  { id: "census",     name: "Census & Taxation",    level: 6,  col: 2, row: 6,  req: ["law", "admin1"],           desc: "Population counting enabling organised taxation and conscription." },
  { id: "ironweap",   name: "Iron Weapons & Tools", level: 6,  col: 2, row: 2,  req: ["iron"],                    desc: "Iron ploughs, swords, and axes replacing bronze across society." },

  { id: "steel1",     name: "Early Steel",          level: 7,  col: 1, row: 1,  req: ["iron"],                     desc: "Carbon-alloyed iron producing harder, springier steel." },
  { id: "philosophy", name: "Philosophy & Logic",   level: 7,  col: 1, row: 3,  req: ["law", "writing2"],         desc: "Rational inquiry into nature, ethics, politics, and epistemology." },
  { id: "medicine1",  name: "Early Medicine",       level: 7,  col: 1, row: 5,  req: ["law", "astronomy"],         desc: "Herbalism, surgery, and humoral or systematic disease theory." },
  { id: "engineering", name: "Mechanical Engineering", level: 7, col: 1, row: 7, req: ["math1", "masonry", "roads"], desc: "Levers, pulleys, screws, and gears applied to construction." },
  { id: "glasswork",  name: "Glassmaking",          level: 7,  col: 1, row: 9,  req: ["coinage", "iron"],          desc: "Soda-lime glass for vessels, mosaic, and early optics." },
  { id: "navy",       name: "Naval Warfare",        level: 7,  col: 1, row: 11, req: ["sailing", "iron"],          desc: "Purpose-built warships with rams, oars, and marines." },
  { id: "rhetoric",   name: "Rhetoric & Governance", level: 7, col: 2, row: 4,  req: ["philosophy", "census"],    desc: "Formal debate, civic assembly, and administrative theory." },
  { id: "cartography1", name: "Early Cartography", level: 7,  col: 2, row: 10, req: ["astronomy", "navy"],       desc: "Schematic maps of coasts, routes, and known lands." },

  { id: "stirrup",    name: "Stirrup & Cavalry",    level: 8,  col: 1, row: 1,  req: ["steel1", "roads"],           desc: "Stirrups enabling armoured shock cavalry as decisive force." },
  { id: "windmill",   name: "Wind & Water Mills",   level: 8,  col: 1, row: 3,  req: ["engineering"],             desc: "Mechanical mills converting wind and water to rotary power." },
  { id: "printing1",  name: "Block Printing",       level: 8,  col: 1, row: 5,  req: ["philosophy", "glasswork"],  desc: "Carved-block printing for text and image reproduction." },
  { id: "algebra",    name: "Algebra & Trigonometry", level: 8, col: 1, row: 7, req: ["philosophy", "medicine1"],  desc: "Symbolic algebra, trigonometry, and advanced geometry." },
  { id: "compass",    name: "Magnetic Compass",     level: 8,  col: 1, row: 9,  req: ["astronomy", "navy"],        desc: "Magnetite needle enabling open-ocean navigation." },
  { id: "siege",      name: "Siege Engineering",    level: 8,  col: 1, row: 11, req: ["engineering", "steel1"],    desc: "Trebuchets, battering rams, and systematic fortification assault." },
  { id: "feudallaw",  name: "Feudal & Canon Law",   level: 8,  col: 2, row: 4,  req: ["rhetoric", "printing1"],    desc: "Hierarchical land tenure law and ecclesiastical legal systems." },
  { id: "finance1",   name: "Bills of Exchange",    level: 8,  col: 2, row: 6,  req: ["algebra", "coinage"],       desc: "Credit instruments allowing deferred payment across distances." },
  { id: "horsecollar", name: "Horse Collar & Crop Rotation", level: 8, col: 2, row: 2, req: ["stirrup", "windmill"], desc: "Padded collar and three-field rotation dramatically boosting yields." },

  { id: "gunpowder",  name: "Gunpowder",            level: 9,  col: 1, row: 1,  req: ["siege", "algebra"],         desc: "Explosive propellant enabling bombs, rockets, and cannon." },
  { id: "printing2",  name: "Movable Type Press",   level: 9,  col: 1, row: 3,  req: ["printing1", "algebra"],      desc: "Mass text production enabling widespread literacy." },
  { id: "optics",     name: "Optics & Lenses",      level: 9,  col: 1, row: 5,  req: ["glasswork", "algebra"],     desc: "Precision lenses for telescopes, microscopes, and spectacles." },
  { id: "anatomy",    name: "Anatomy & Surgery",    level: 9,  col: 1, row: 7,  req: ["medicine1", "printing1"],    desc: "Systematic dissection and evidence-based surgical method." },
  { id: "oceannav",   name: "Ocean Navigation",     level: 9,  col: 1, row: 9,  req: ["compass", "algebra"],       desc: "Celestial fixes, accurate charts, and deep-ocean voyaging." },
  { id: "blast",      name: "Blast Furnace",        level: 9,  col: 1, row: 11, req: ["windmill", "steel1"],       desc: "Forced-air furnace producing cast iron at volume." },
  { id: "perspective", name: "Perspective & Technical Drawing", level: 9, col: 2, row: 4, req: ["optics", "printing2"], desc: "Geometric projection enabling accurate architectural plans." },
  { id: "accounting", name: "Double-Entry Accounting", level: 9, col: 2, row: 6, req: ["finance1", "printing2"],   desc: "Systematic ledger method enabling complex commercial tracking." },

  { id: "firearms",   name: "Firearms & Artillery", level: 10, col: 1, row: 1,  req: ["gunpowder", "blast"],       desc: "Muskets, pistols, and cannon transforming siege and field warfare." },
  { id: "scimethod",  name: "Scientific Method",    level: 10, col: 1, row: 3,  req: ["printing2", "optics", "anatomy"], desc: "Hypothesis, experiment, replication, and peer review." },
  { id: "banking",    name: "Banking & Joint-Stock", level: 10, col: 1, row: 5, req: ["accounting", "oceannav"],   desc: "Central banks, letters of credit, and joint-stock companies." },
  { id: "chemistry1", name: "Early Chemistry",      level: 10, col: 1, row: 7,  req: ["scimethod", "blast"],       desc: "Element isolation, acid production, and systematic assay." },
  { id: "mapmaking",  name: "Cartography & Surveying", level: 10, col: 1, row: 9, req: ["oceannav", "printing2"],  desc: "Accurate world maps, projections, and triangulation surveys." },
  { id: "clockwork",  name: "Clockwork & Precision", level: 10, col: 1, row: 11, req: ["optics", "algebra"],       desc: "Escapement mechanisms for accurate clocks and instruments." },
  { id: "colonialism", name: "Colonial Administration", level: 10, col: 2, row: 6, req: ["banking", "mapmaking"],  desc: "Overseas territorial governance and resource extraction systems." },
  { id: "printing3",  name: "Newspapers & Public Sphere", level: 10, col: 2, row: 4, req: ["printing2", "banking"], desc: "Mass periodical press creating a literate public opinion." },
  { id: "shipbuilding", name: "Advanced Shipbuilding", level: 10, col: 2, row: 10, req: ["mapmaking", "firearms"], desc: "Multi-deck warships and ocean-going merchantmen." },

  { id: "steam",      name: "Steam Engine",         level: 11, col: 1, row: 1,  req: ["firearms", "clockwork"],     desc: "External combustion powering factories, mines, and locomotives." },
  { id: "elec1",      name: "Electrostatics & Galvanism", level: 11, col: 1, row: 3, req: ["scimethod", "chemistry1"], desc: "Charge, capacitors, and early current from chemical cells." },
  { id: "germ",       name: "Germ Theory & Vaccines", level: 11, col: 1, row: 5, req: ["chemistry1", "anatomy"],   desc: "Microbial disease model enabling vaccination and antisepsis." },
  { id: "steel2",     name: "Industrial Steel",     level: 11, col: 1, row: 7,  req: ["steam", "blast"],           desc: "Bessemer and open-hearth mass steel production." },
  { id: "telegraph",  name: "Telegraph",            level: 11, col: 1, row: 9,  req: ["elec1", "clockwork"],        desc: "Electrical dot-dash signalling over wires." },
  { id: "chemind",    name: "Industrial Chemistry", level: 11, col: 1, row: 11, req: ["chemistry1", "steam"],      desc: "Synthetic dyes, Haber-process fertilisers, and explosives." },
  { id: "railroad",   name: "Railways & Locomotives", level: 11, col: 2, row: 2, req: ["steam", "steel2"],         desc: "Steam-powered rail networks transforming freight and travel." },
  { id: "massprint",  name: "Mass Literacy & Public Education", level: 11, col: 2, row: 4, req: ["printing3", "railroad"], desc: "State schooling systems and mass-produced books." },
  { id: "census2",    name: "Statistics & Public Administration", level: 11, col: 2, row: 6, req: ["massprint", "census"], desc: "Actuarial tables, vital statistics, and bureaucratic state capacity." },
  { id: "rights",     name: "Rights Theory & Constitutionalism", level: 11, col: 2, row: 8, req: ["massprint", "rhetoric"], desc: "Natural rights, social contract, and written constitutions." },

  { id: "combustion", name: "Internal Combustion", level: 12, col: 1, row: 1,  req: ["steam", "chemind"],         desc: "Petroleum-fuelled engines powering vehicles and machinery." },
  { id: "elec2",      name: "Electrical Grid",      level: 12, col: 1, row: 3,  req: ["elec1", "steel2"],           desc: "Dynamos, AC transformers, and large-scale power distribution." },
  { id: "radio",      name: "Radio & Wireless Comm.", level: 12, col: 1, row: 5, req: ["telegraph", "elec2"],      desc: "Electromagnetic wave communication without cables." },
  { id: "pharma",     name: "Pharmaceuticals",      level: 12, col: 1, row: 7,  req: ["germ", "chemind"],           desc: "Antibiotics, anaesthetics, and synthetic drug manufacture." },
  { id: "flight",     name: "Powered Flight",       level: 12, col: 1, row: 9,  req: ["combustion", "steel2"],      desc: "Heavier-than-air aircraft enabling rapid transport and war." },
  { id: "nuclear",    name: "Nuclear Physics & Fission", level: 12, col: 1, row: 11, req: ["elec2", "chemind"],    desc: "Atomic structure, radioactivity, fission reactors, and weapons." },
  { id: "massdem",    name: "Mass Democracy & Suffrage", level: 12, col: 2, row: 4, req: ["rights", "radio"],      desc: "Universal suffrage, party politics, and mass electoral systems." },
  { id: "propaganda", name: "Mass Media & Propaganda", level: 12, col: 2, row: 6, req: ["radio", "massprint"],     desc: "Radio, film, and press as instruments of public persuasion." },
  { id: "automation1", name: "Early Automation & Assembly Line", level: 12, col: 2, row: 2, req: ["combustion", "railroad"], desc: "Fordist mass production via specialised machine lines." },
  { id: "computing1", name: "Early Computing & Cryptography", level: 12, col: 2, row: 10, req: ["elec2", "nuclear"], desc: "Electromechanical and early electronic computation." },

  { id: "rocketry",   name: "Rocketry & Ballistics", level: 13, col: 1, row: 1,  req: ["nuclear", "combustion"],    desc: "Liquid- and solid-fuel rockets reaching orbital velocity." },
  { id: "computing2", name: "Transistors & Microelectronics", level: 13, col: 1, row: 3, req: ["computing1", "elec2"], desc: "Solid-state transistors and integrated circuits replacing valves." },
  { id: "telecom2",   name: "Satellite Communications", level: 13, col: 1, row: 5, req: ["radio", "rocketry"],     desc: "Orbital relay satellites for global telecommunications." },
  { id: "biotech1",   name: "Genetics & Biotechnology", level: 13, col: 1, row: 7, req: ["pharma", "computing2"], desc: "DNA structure, genetic sequencing, and recombinant proteins." },
  { id: "materials1", name: "Advanced Materials",   level: 13, col: 1, row: 9,  req: ["nuclear", "chemind"],       desc: "Composites, polymers, ceramics, and semiconductor substrates." },
  { id: "internet",   name: "Global Internet",      level: 13, col: 2, row: 4,  req: ["computing2", "telecom2"],   desc: "Packet-switched global data network enabling information economy." },
  { id: "renewable",  name: "Renewable Energy",     level: 13, col: 2, row: 2,  req: ["computing2", "elec2"],       desc: "Solar, wind, and hydroelectric at grid scale." },
  { id: "AI1",        name: "Artificial Intelligence", level: 13, col: 2, row: 6, req: ["internet", "computing2"], desc: "Machine learning and neural networks solving complex tasks." },
  { id: "lifesupport", name: "Life Support Systems", level: 13, col: 2, row: 8, req: ["biotech1", "materials1"],   desc: "Closed-loop air, water, and food recycling for space habitation." },
  { id: "launcher",   name: "Heavy Launch Vehicles", level: 13, col: 2, row: 10, req: ["rocketry", "materials1"],   desc: "Reusable rockets and heavy-lift systems reaching orbit economically." },

  { id: "fusion",     name: "Fusion Power",         level: 14, col: 1, row: 1,  req: ["nuclear", "materials1"],    desc: "Controlled hydrogen fusion providing abundant clean energy." },
  { id: "AI2",        name: "General AI & Automation", level: 14, col: 1, row: 3, req: ["AI1", "internet"],        desc: "Autonomous systems managing complex logistics and research." },
  { id: "biotech2",   name: "Synthetic Biology & Longevity", level: 14, col: 1, row: 5, req: ["biotech1", "AI1"],  desc: "Engineered organisms, gene therapy, and radical life extension." },
  { id: "interplan",  name: "Interplanetary Propulsion", level: 14, col: 1, row: 7, req: ["fusion", "launcher"],   desc: "Ion drives, nuclear thermal engines, and solar sails for deep space." },
  { id: "terraforming", name: "Terraforming Technology", level: 14, col: 2, row: 2, req: ["lifesupport", "biotech2"], desc: "Planetary atmosphere and temperature engineering at scale." },
  { id: "spacemining", name: "Asteroid & Orbital Mining", level: 14, col: 2, row: 4, req: ["launcher", "AI2"],      desc: "Robotic extraction of metals and volatiles from asteroids." },
  { id: "quantum",    name: "Quantum Computing",    level: 14, col: 2, row: 6,  req: ["AI2", "materials1"],        desc: "Qubit processors solving intractable cryptography and simulation." },
  { id: "nanotech",   name: "Nanotechnology",       level: 14, col: 2, row: 8,  req: ["biotech2", "quantum"],       desc: "Molecular-scale machines for medicine, manufacturing, and materials." },
  { id: "planetgov",  name: "Planetary Governance", level: 14, col: 2, row: 10, req: ["AI2", "internet"],           desc: "Multi-world administrative frameworks and interplanetary law." },

  { id: "ftl_comm",   name: "FTL Communication",    level: 15, col: 1, row: 2,  req: ["quantum", "interplan"],      desc: "Quantum entanglement or tachyon relays for instantaneous signalling." },
  { id: "warp",       name: "Warp / Alcubierre Drive", level: 15, col: 1, row: 4, req: ["fusion", "quantum"],      desc: "Spacetime metric distortion enabling faster-than-light travel." },
  { id: "dyson",      name: "Dyson Swarm / Megastructures", level: 15, col: 1, row: 6, req: ["spacemining", "nanotech"], desc: "Star-encircling energy collectors and orbital megastructures." },
  { id: "postscarcity", name: "Post-Scarcity Economy", level: 15, col: 1, row: 8, req: ["nanotech", "AI2"],         desc: "Automated abundance eliminating material want at civilisational scale." },
  { id: "uploaded",   name: "Mind Uploading & Digital Sentience", level: 15, col: 2, row: 3, req: ["AI2", "biotech2"], desc: "Consciousness substrate transfer enabling digital existence." },
  { id: "xenobio",    name: "Xenobiology & First Contact Protocols", level: 15, col: 2, row: 5, req: ["biotech2", "ftl_comm", "terraforming"], desc: "Framework for encountering and communicating with non-human life." },
  { id: "starcolony", name: "Interstellar Colonisation", level: 15, col: 2, row: 7, req: ["warp", "lifesupport", "planetgov"], desc: "Self-sustaining colonies around other stellar systems." },
  { id: "civilnet",   name: "Interstellar Civilisation Network", level: 15, col: 2, row: 9, req: ["starcolony", "ftl_comm", "dyson"], desc: "Multi-star polities unified by communication, trade, and governance." },
];
window.TECHS = TECHS;
